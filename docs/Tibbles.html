<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 10 Tibbles: | R for Data Science Companion Book</title>
  <meta name="description" content="This is my summary and solutions for the Book R for Data Science" />
  <meta name="generator" content="bookdown 0.20 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 10 Tibbles: | R for Data Science Companion Book" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is my summary and solutions for the Book R for Data Science" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 10 Tibbles: | R for Data Science Companion Book" />
  
  <meta name="twitter:description" content="This is my summary and solutions for the Book R for Data Science" />
  

<meta name="author" content="Shamsuddeen Muhammad" />


<meta name="date" content="2020-09-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="workflowproject.html"/>
<link rel="next" href="DataImport.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Science Summary & Solution</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> About this Summary Book</a></li>
<li class="chapter" data-level="2" data-path="Intro.html"><a href="Intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="DataViz.html"><a href="DataViz.html"><i class="fa fa-check"></i><b>3</b> Data Visualization</a><ul>
<li class="chapter" data-level="" data-path="DataViz.html"><a href="DataViz.html#example-using-ggplot"><i class="fa fa-check"></i>3.1 Example using ggplot</a></li>
<li class="chapter" data-level="" data-path="DataViz.html"><a href="DataViz.html#a-graphing-template"><i class="fa fa-check"></i>3.2 A graphing template</a></li>
<li class="chapter" data-level="" data-path="DataViz.html"><a href="DataViz.html#exercises"><i class="fa fa-check"></i>3.2.4 Exercises</a><ul>
<li class="chapter" data-level="3.0.1" data-path="DataViz.html"><a href="DataViz.html#aesthetic-mappings"><i class="fa fa-check"></i><b>3.0.1</b> 3.3 Aesthetic mappings</a></li>
<li class="chapter" data-level="3.0.2" data-path="DataViz.html"><a href="DataViz.html#exercises-1"><i class="fa fa-check"></i><b>3.0.2</b> 3.6.1 Exercises</a></li>
<li class="chapter" data-level="3.0.3" data-path="DataViz.html"><a href="DataViz.html#exercises-2"><i class="fa fa-check"></i><b>3.0.3</b> 3.7.1 Exercises</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="WFBasics.html"><a href="WFBasics.html"><i class="fa fa-check"></i><b>4</b> WorkFlow Basics</a></li>
<li class="chapter" data-level="5" data-path="Datatransformation.html"><a href="Datatransformation.html"><i class="fa fa-check"></i><b>5</b> Data Transformation</a><ul>
<li class="chapter" data-level="5.1" data-path="Datatransformation.html"><a href="Datatransformation.html#introduction"><i class="fa fa-check"></i><b>5.1</b> Introduction</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="Workflowscript.html"><a href="Workflowscript.html"><i class="fa fa-check"></i><b>6</b> Workflow:Script</a><ul>
<li class="chapter" data-level="6.1" data-path="Workflowscript.html"><a href="Workflowscript.html#rstudio-diagnostics"><i class="fa fa-check"></i><b>6.1</b> 6.2 RStudio diagnostics</a></li>
<li class="chapter" data-level="6.2" data-path="Workflowscript.html"><a href="Workflowscript.html#exercises-demo"><i class="fa fa-check"></i><b>6.2</b> Exercises : Demo</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="EDA.html"><a href="EDA.html"><i class="fa fa-check"></i><b>7</b> Exploratory Data Analysis</a><ul>
<li class="chapter" data-level="" data-path="EDA.html"><a href="EDA.html#variation"><i class="fa fa-check"></i>7.3 Variation</a></li>
<li class="chapter" data-level="" data-path="EDA.html"><a href="EDA.html#visualising-distributions"><i class="fa fa-check"></i>7.3.1 Visualising distributions</a><ul>
<li class="chapter" data-level="7.0.1" data-path="EDA.html"><a href="EDA.html#examining-categorical-variable"><i class="fa fa-check"></i><b>7.0.1</b> Examining Categorical variable</a></li>
<li class="chapter" data-level="7.0.2" data-path="EDA.html"><a href="EDA.html#examining-continue-variable-using-histogram"><i class="fa fa-check"></i><b>7.0.2</b> Examining Continue variable using histogram</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="typical-values.html"><a href="typical-values.html"><i class="fa fa-check"></i>7.3.2 Typical values</a></li>
<li class="chapter" data-level="" data-path="unusual-values.html"><a href="unusual-values.html"><i class="fa fa-check"></i>7.3.3 Unusual values</a></li>
<li class="chapter" data-level="8" data-path="missing-values.html"><a href="missing-values.html"><i class="fa fa-check"></i><b>8</b> 7.4 Missing values</a><ul>
<li class="chapter" data-level="8.1" data-path="missing-values.html"><a href="missing-values.html#drop-the-entire-row-with-the-strange-values-not-recommended"><i class="fa fa-check"></i><b>8.1</b> Drop the entire row with the strange values (not recommended)</a></li>
<li class="chapter" data-level="8.2" data-path="missing-values.html"><a href="missing-values.html#ecommend-replacing-the-unusual-values-with-missing-valuesrecommeded."><i class="fa fa-check"></i><b>8.2</b> ecommend replacing the unusual values with missing values(recommeded).</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="covariation.html"><a href="covariation.html"><i class="fa fa-check"></i>7.5 Covariation</a></li>
<li class="chapter" data-level="" data-path="a-categorical-and-continuous-variable.html"><a href="a-categorical-and-continuous-variable.html"><i class="fa fa-check"></i>7.5.1 A categorical and continuous variable</a><ul>
<li class="chapter" data-level="8.2.1" data-path="a-categorical-and-continuous-variable.html"><a href="a-categorical-and-continuous-variable.html#using-reordered"><i class="fa fa-check"></i><b>8.2.1</b> using reordered()</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="workflowproject.html"><a href="workflowproject.html"><i class="fa fa-check"></i><b>9</b> Workflow: Project</a><ul>
<li class="chapter" data-level="" data-path="workflowproject.html"><a href="workflowproject.html#summary-of-the-capter-picture"><i class="fa fa-check"></i>Summary of the capter picture</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="Tibbles.html"><a href="Tibbles.html"><i class="fa fa-check"></i><b>10</b> Tibbles:</a><ul>
<li class="chapter" data-level="" data-path="workflowproject.html"><a href="workflowproject.html#summary-of-the-capter-picture"><i class="fa fa-check"></i>Summary of the capter picture</a></li>
<li class="chapter" data-level="" data-path="Datatransformation.html"><a href="Datatransformation.html#introduction"><i class="fa fa-check"></i>10.1 Introduction</a></li>
<li class="chapter" data-level="" data-path="Tibbles.html"><a href="Tibbles.html#tibbles-vs.-data.frame"><i class="fa fa-check"></i>10.3 Tibbles vs. data.frame</a></li>
<li class="chapter" data-level="" data-path="Tibbles.html"><a href="Tibbles.html#subsetting"><i class="fa fa-check"></i>10.3.2 Subsetting</a></li>
<li class="chapter" data-level="10.1" data-path="Tibbles.html"><a href="Tibbles.html#changing-tibble-back-to-traditional-data-frame"><i class="fa fa-check"></i><b>10.1</b> Changing tibble back to traditional data frame</a></li>
<li class="chapter" data-level="10.2" data-path="DataViz.html"><a href="DataViz.html#exercises"><i class="fa fa-check"></i><b>10.2</b> 10.5 Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="DataImport.html"><a href="DataImport.html"><i class="fa fa-check"></i><b>11</b> Data Import</a></li>
<li class="chapter" data-level="12" data-path="what-is-flate-file-a-flat-file-database-is-a-database-that-stores-data-in-a-plain-text-file-each-line-of-the-text-file-holds-one-record-with-fields-separated-by-delimiters-such-as-commas-or-tabs-while-it-uses-a-simple-structure-a-flat-file-database-cannot-contain-multiple-tables-like-a-relational-database-can.html"><a href="what-is-flate-file-a-flat-file-database-is-a-database-that-stores-data-in-a-plain-text-file-each-line-of-the-text-file-holds-one-record-with-fields-separated-by-delimiters-such-as-commas-or-tabs-while-it-uses-a-simple-structure-a-flat-file-database-cannot-contain-multiple-tables-like-a-relational-database-can.html"><i class="fa fa-check"></i><b>12</b> What is flate file: A flat file database is a database that stores data in a plain text file. Each line of the text file holds one record, with fields separated by delimiters, such as commas or tabs. While it uses a simple structure, a flat file database cannot contain multiple tables like a relational database can</a></li>
<li class="chapter" data-level="13" data-path="read-csv-convert-string-to-factor-by-default-while-read-csv-not.html"><a href="read-csv-convert-string-to-factor-by-default-while-read-csv-not.html"><i class="fa fa-check"></i><b>13</b> Read.csv convert string to factor by default while read_csv not</a></li>
<li class="chapter" data-level="14" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><i class="fa fa-check"></i><b>14</b> Read.csv prints normal dataframe, while read_csv prints tibble</a><ul>
<li class="chapter" data-level="" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html#parsing-a-vector"><i class="fa fa-check"></i>11.3 Parsing a vector</a><ul>
<li class="chapter" data-level="" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html#numbers"><i class="fa fa-check"></i>11.3.1 Numbers</a></li>
<li class="chapter" data-level="" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html#strings"><i class="fa fa-check"></i>11.3.2 Strings</a></li>
<li class="chapter" data-level="" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html#factors"><i class="fa fa-check"></i>11.3.3 Factors</a></li>
<li class="chapter" data-level="" data-path="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html"><a href="read-csv-prints-normal-dataframe-while-read-csv-prints-tibble.html#dates-date-times-and-times"><i class="fa fa-check"></i>11.3.4 Dates, date-times, and times</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://www.shmuhammad.com/" target="blank">Find more summary of books I read preview_chapter(</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Science Companion Book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="Tibbles" class="section level1">
<h1><span class="header-section-number">Chapter 10</span> Tibbles:</h1>
<div id="summary-of-the-capter-picture" class="section level2 unnumbered">
<h2>Summary of the capter picture</h2>
<p><img src="img/Tibble.png" style="width:100.0%" alt="Project workflow." />
<img src="img/Tibble_1.png" style="width:100.0%" alt="Project workflow." /></p>
</div>
<div id="introduction" class="section level2 unnumbered">
<h2>10.1 Introduction</h2>
<div class="note">
<centre>__ What is Tibble?__
</center>
<p><code>Tibble</code> package provides an opinionated data frames that make working in the tidyverse a little easier. They tweak some older behaviours of R’s traditional <code>data.frame</code> to make life a little easier.</p>
</div>
<p>A <code>tibble</code>, or <code>tbl_df</code>, is a modern reimagining of the <code>data.frame</code>, keeping what time has proven to be effective, and throwing out what is not. Tibbles are data.frames that are <code>lazy and surly</code>: they do less (i.e. they don’t change variable names or types, and don’t do partial matching) and complain more (e.g. when a variable does not exist).</p>
<p>Tibbles also have an enhanced print() method which makes them easier to use with large datasets containing complex objects.</p>
<div class="question">
<p><strong>Why R has many packages?</strong></p>
<p>R is an old language and it’s difficult to change base R without breaking existing code, so most recent innovation occurs in packages.</p>
</div>
<div id="creating-tibbles" class="section level4 unnumbered">
<h4>10.2 Creating tibbles</h4>
</div>
<div id="convertion-from-from-rs-traditional-dataframe-to-tibble" class="section level4 unnumbered">
<h4>Convertion from from R’s traditional dataframe to tibble</h4>
<p>To change from R’s traditional dataframe to tibble, we use <code>as_tibble()</code> function:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="Tibbles.html#cb78-1"></a><span class="kw">as_tibble</span>(iris)</span></code></pre></div>
<pre><code>## # A tibble: 150 x 5
##    Sepal.Length Sepal.Width Petal.Length Petal.Width Species
##           &lt;dbl&gt;       &lt;dbl&gt;        &lt;dbl&gt;       &lt;dbl&gt; &lt;fct&gt;  
##  1          5.1         3.5          1.4         0.2 setosa 
##  2          4.9         3            1.4         0.2 setosa 
##  3          4.7         3.2          1.3         0.2 setosa 
##  4          4.6         3.1          1.5         0.2 setosa 
##  5          5           3.6          1.4         0.2 setosa 
##  6          5.4         3.9          1.7         0.4 setosa 
##  7          4.6         3.4          1.4         0.3 setosa 
##  8          5           3.4          1.5         0.2 setosa 
##  9          4.4         2.9          1.4         0.2 setosa 
## 10          4.9         3.1          1.5         0.1 setosa 
## # … with 140 more rows</code></pre>
</div>
<div id="to-create-tibble-from-vectors" class="section level4 unnumbered">
<h4>To create tibble from vectors</h4>
<p>To create tibble from vectors we use <code>tibble()</code> function. Note, we put comma <code>,</code> after individual vector as shown below:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="Tibbles.html#cb80-1"></a><span class="kw">tibble</span>(</span>
<span id="cb80-2"><a href="Tibbles.html#cb80-2"></a>  <span class="dt">x =</span> <span class="dv">2</span><span class="op">:</span><span class="st"> </span><span class="dv">4</span>, </span>
<span id="cb80-3"><a href="Tibbles.html#cb80-3"></a>  <span class="dt">y =</span> <span class="dv">1</span>, </span>
<span id="cb80-4"><a href="Tibbles.html#cb80-4"></a>  <span class="dt">z =</span> x <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>y,</span>
<span id="cb80-5"><a href="Tibbles.html#cb80-5"></a>  <span class="dt">p =</span> z<span class="op">-</span>x</span>
<span id="cb80-6"><a href="Tibbles.html#cb80-6"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 4
##       x     y     z     p
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     2     1     5     3
## 2     3     1    10     7
## 3     4     1    17    13</code></pre>
</div>
<div id="what-data.table-does-and-tibble-does-not" class="section level4">
<h4><span class="header-section-number">10.0.0.1</span> What data.table does and tibble does not</h4>
<ol style="list-style-type: decimal">
<li><p>Tibble never changes the type of the inputs (e.g. it never converts strings to factors!)</p></li>
<li><p>Tibble never changes the names of variables</p></li>
<li><p>Tibble never creates row names</p></li>
<li><p>Tibble can have column names that are not valid R variable names, aka <code>non-syntactic names</code>.</p></li>
<li><p>Tibbles are more strict: they never do partial matching,</p></li>
<li><p>Tibbles generate a warning if the column you are trying to access does not exist (unlike traditional data.frame).</p></li>
<li><p>It only recycles vectors of length 1. This is because recycling vectors of greater lengths is a frequent source of bugs</p></li>
</ol>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="Tibbles.html#cb82-1"></a><span class="co"># `non-syntactic names` example</span></span>
<span id="cb82-2"><a href="Tibbles.html#cb82-2"></a></span>
<span id="cb82-3"><a href="Tibbles.html#cb82-3"></a>tb &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb82-4"><a href="Tibbles.html#cb82-4"></a>  <span class="st">`</span><span class="dt">:)</span><span class="st">`</span> =<span class="st"> &quot;smile&quot;</span>,   <span class="co"># note : the variable names are backticks sorrounding them</span></span>
<span id="cb82-5"><a href="Tibbles.html#cb82-5"></a>  <span class="st">`</span><span class="dt"> </span><span class="st">`</span> =<span class="st"> &quot;space&quot;</span>,</span>
<span id="cb82-6"><a href="Tibbles.html#cb82-6"></a>  <span class="st">`</span><span class="dt">2000</span><span class="st">`</span> =<span class="st"> &quot;number&quot;</span></span>
<span id="cb82-7"><a href="Tibbles.html#cb82-7"></a>)</span>
<span id="cb82-8"><a href="Tibbles.html#cb82-8"></a>tb</span></code></pre></div>
<pre><code>## # A tibble: 1 x 3
##   `:)`  ` `   `2000`
##   &lt;chr&gt; &lt;chr&gt; &lt;chr&gt; 
## 1 smile space number</code></pre>
</div>
<div id="create-tibble-with-small-amount-of-data-in-code" class="section level4 unnumbered">
<h4>Create tibble with small amount of data in code</h4>
<p>We can create tibblewith tribble(), short for <strong>transposed tibble</strong>. tribble() is customised for data entry in code: column headings are defined by formulas (i.e. they start with ~), and entries are separated by commas.</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb84-1"><a href="Tibbles.html#cb84-1"></a><span class="kw">tribble</span>(</span>
<span id="cb84-2"><a href="Tibbles.html#cb84-2"></a>  <span class="op">~</span>x, <span class="op">~</span>y, <span class="op">~</span>z,</span>
<span id="cb84-3"><a href="Tibbles.html#cb84-3"></a>  <span class="co">#--|--|----</span></span>
<span id="cb84-4"><a href="Tibbles.html#cb84-4"></a>  <span class="st">&quot;a&quot;</span>, <span class="dv">2</span>, <span class="fl">3.6</span>,</span>
<span id="cb84-5"><a href="Tibbles.html#cb84-5"></a>  <span class="st">&quot;b&quot;</span>, <span class="dv">1</span>, <span class="fl">8.5</span></span>
<span id="cb84-6"><a href="Tibbles.html#cb84-6"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 2 x 3
##   x         y     z
##   &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1 a         2   3.6
## 2 b         1   8.5</code></pre>
</div>
</div>
<div id="tibbles-vs.-data.frame" class="section level2 unnumbered">
<h2>10.3 Tibbles vs. data.frame</h2>
<p>Tibbles and data.frame differs significantly in two ways: printing and subsetting.</p>
<div id="printing" class="section level4 unnumbered">
<h4>10.3.1 Printing</h4>
<p><strong>Tibbles</strong> have a better print method. It prints the first 10 rows, and all the columns that fit on screen.</p>
<p>Tibbles also have an enhanced print() method which makes them easier to use with large datasets containing complex objects.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb86-1"><a href="Tibbles.html#cb86-1"></a><span class="kw">tibble</span>(</span>
<span id="cb86-2"><a href="Tibbles.html#cb86-2"></a>  <span class="dt">a =</span> lubridate<span class="op">::</span><span class="kw">now</span>() <span class="op">+</span><span class="st"> </span><span class="kw">runif</span>(<span class="fl">1e3</span>) <span class="op">*</span><span class="st"> </span><span class="dv">86400</span>,</span>
<span id="cb86-3"><a href="Tibbles.html#cb86-3"></a>  <span class="dt">b =</span> lubridate<span class="op">::</span><span class="kw">today</span>() <span class="op">+</span><span class="st"> </span><span class="kw">runif</span>(<span class="fl">1e3</span>) <span class="op">*</span><span class="st"> </span><span class="dv">30</span>,</span>
<span id="cb86-4"><a href="Tibbles.html#cb86-4"></a>  <span class="dt">c =</span> <span class="dv">1</span><span class="op">:</span><span class="fl">1e3</span>,</span>
<span id="cb86-5"><a href="Tibbles.html#cb86-5"></a>  <span class="dt">d =</span> <span class="kw">runif</span>(<span class="fl">1e3</span>),</span>
<span id="cb86-6"><a href="Tibbles.html#cb86-6"></a>  <span class="dt">e =</span> <span class="kw">sample</span>(letters, <span class="fl">1e3</span>, <span class="dt">replace =</span> <span class="ot">TRUE</span>)</span>
<span id="cb86-7"><a href="Tibbles.html#cb86-7"></a>)</span></code></pre></div>
<pre><code>## # A tibble: 1,000 x 5
##    a                   b              c      d e    
##    &lt;dttm&gt;              &lt;date&gt;     &lt;int&gt;  &lt;dbl&gt; &lt;chr&gt;
##  1 2020-09-22 03:12:20 2020-10-10     1 0.348  z    
##  2 2020-09-22 05:00:03 2020-09-21     2 0.345  a    
##  3 2020-09-21 16:03:43 2020-09-25     3 0.512  l    
##  4 2020-09-21 16:15:53 2020-09-28     4 0.588  u    
##  5 2020-09-22 13:02:31 2020-10-19     5 0.226  v    
##  6 2020-09-22 11:05:12 2020-09-22     6 0.0342 i    
##  7 2020-09-22 08:27:56 2020-10-17     7 0.280  q    
##  8 2020-09-22 09:25:11 2020-10-11     8 0.406  v    
##  9 2020-09-22 12:48:54 2020-10-02     9 0.454  d    
## 10 2020-09-21 17:33:53 2020-10-05    10 0.811  g    
## # … with 990 more rows</code></pre>
<p>What is inf?</p>
<p>Inf and -Inf stands for infinity (or negative infinity) and is a result of storing either a large number or a product that is a result of division by zero. Inf is a reserved word and is – in most cases – product of computations in R language and therefore very rarely a product of data import. Infinite also tells you that the value is not missing and a number!</p>
<p><strong>Print</strong> : We can use <code>print()</code> function to print tibble and control number of column and width.</p>
<div class="note">
<p>You can also control the default print behaviour by setting options:</p>
<ol style="list-style-type: decimal">
<li><p>options(tibble.print_max = n, tibble.print_min = m): if more than n rows, print only m rows. Use options(tibble.print_min = Inf) to always show all rows.</p></li>
<li><p>Use options(tibble.width = Inf) to always print all columns, regardless of the width of the screen.</p></li>
</ol>
</div>
<div class="sourceCode" id="cb88"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb88-1"><a href="Tibbles.html#cb88-1"></a>nycflights13<span class="op">::</span>flights <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb88-2"><a href="Tibbles.html#cb88-2"></a><span class="st">  </span><span class="kw">print</span>(<span class="dt">n =</span> <span class="dv">4</span>)</span></code></pre></div>
<pre><code>## # A tibble: 336,776 x 19
##    year month   day dep_time sched_dep_time dep_delay arr_time sched_arr_time
##   &lt;int&gt; &lt;int&gt; &lt;int&gt;    &lt;int&gt;          &lt;int&gt;     &lt;dbl&gt;    &lt;int&gt;          &lt;int&gt;
## 1  2013     1     1      517            515         2      830            819
## 2  2013     1     1      533            529         4      850            830
## 3  2013     1     1      542            540         2      923            850
## 4  2013     1     1      544            545        -1     1004           1022
## # … with 336,772 more rows, and 11 more variables: arr_delay &lt;dbl&gt;,
## #   carrier &lt;chr&gt;, flight &lt;int&gt;, tailnum &lt;chr&gt;, origin &lt;chr&gt;, dest &lt;chr&gt;,
## #   air_time &lt;dbl&gt;, distance &lt;dbl&gt;, hour &lt;dbl&gt;, minute &lt;dbl&gt;, time_hour &lt;dttm&gt;</code></pre>
<p><em>RStudio’s built-in data viewer</em>: You can use RStudio’s built-in data viewer to get a scrollable view of the complete dataset.</p>
<div class="sourceCode" id="cb90"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb90-1"><a href="Tibbles.html#cb90-1"></a><span class="co">#nycflights13::flights %&gt;% </span></span>
<span id="cb90-2"><a href="Tibbles.html#cb90-2"></a> <span class="co"># View()</span></span></code></pre></div>
</div>
</div>
<div id="subsetting" class="section level2 unnumbered">
<h2>10.3.2 Subsetting</h2>
<p>Two ways to subset dataframe: using $ and [[.</p>
<div class="note">
<p><strong>[[</strong> extract by name or position;</p>
<p><strong>$</strong> extracts only by name but is a little less typing.</p>
</div>
<div class="sourceCode" id="cb91"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb91-1"><a href="Tibbles.html#cb91-1"></a>xyz &lt;-<span class="st"> </span><span class="kw">tibble</span>(</span>
<span id="cb91-2"><a href="Tibbles.html#cb91-2"></a>  <span class="dt">x =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">5</span>, </span>
<span id="cb91-3"><a href="Tibbles.html#cb91-3"></a>  <span class="dt">y =</span> <span class="dv">1</span>, </span>
<span id="cb91-4"><a href="Tibbles.html#cb91-4"></a>  <span class="dt">z =</span> x <span class="op">^</span><span class="st"> </span><span class="dv">2</span> <span class="op">+</span><span class="st"> </span>y</span>
<span id="cb91-5"><a href="Tibbles.html#cb91-5"></a>)</span>
<span id="cb91-6"><a href="Tibbles.html#cb91-6"></a>xyz</span></code></pre></div>
<pre><code>## # A tibble: 5 x 3
##       x     y     z
##   &lt;int&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     1     1     2
## 2     2     1     5
## 3     3     1    10
## 4     4     1    17
## 5     5     1    26</code></pre>
<div id="extracting-by-name" class="section level4 unnumbered">
<h4>Extracting by name</h4>
<div class="sourceCode" id="cb93"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb93-1"><a href="Tibbles.html#cb93-1"></a>xyz<span class="op">$</span>x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb95"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb95-1"><a href="Tibbles.html#cb95-1"></a>xyz[[<span class="st">&quot;x&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
</div>
<div id="extracting-by-position" class="section level4 unnumbered">
<h4>Extracting by position</h4>
<div class="sourceCode" id="cb97"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb97-1"><a href="Tibbles.html#cb97-1"></a>xyz[[<span class="dv">1</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="note">
<p>To use $ and [[ to extract variable in a pipe, you’ll need to use the special placeholder .:</p>
<div class="sourceCode" id="cb99"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb99-1"><a href="Tibbles.html#cb99-1"></a>xyz <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb99-2"><a href="Tibbles.html#cb99-2"></a><span class="st">  </span>.<span class="op">$</span>x</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
<div class="sourceCode" id="cb101"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb101-1"><a href="Tibbles.html#cb101-1"></a>xyz <span class="op">%&gt;%</span><span class="st"> </span></span>
<span id="cb101-2"><a href="Tibbles.html#cb101-2"></a><span class="st">  </span>.[[<span class="st">&quot;x&quot;</span>]]</span></code></pre></div>
<pre><code>## [1] 1 2 3 4 5</code></pre>
</div>
</div>
</div>
<div id="changing-tibble-back-to-traditional-data-frame" class="section level2">
<h2><span class="header-section-number">10.1</span> Changing tibble back to traditional data frame</h2>
<p>Some functions were developed before <code>tibble</code>, so they don<code>t support it, and you may need to convert</code>tibble<code>to R</code>s traditional dataframe to work with such functions. Luckily, a function <code>as.data.frame()</code> turn a tibble back to a data.frame</p>
<div class="sourceCode" id="cb103"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb103-1"><a href="Tibbles.html#cb103-1"></a><span class="kw">class</span>(<span class="kw">as.data.frame</span>(tb))</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="note">
<p>The main reason that some older functions don’t work with tibble is the <code>[</code> function. With base R data frames, [ sometimes returns a data frame, and sometimes returns a vector. With tibbles, <code>[</code> always returns another tibble.</p>
</div>
<div id="recylcing-tibble-vs-dataframe" class="section level4">
<h4><span class="header-section-number">10.1.0.1</span> Recylcing: Tibble Vs Dataframe</h4>
<p>When constructing a tibble, only values of length 1 are recycled. The first column with length different to one determines the number of rows in the tibble, conflicts lead to an error. This also extends to tibbles with zero rows, which is sometimes important for programming:</p>
<p>The example below shows an example where length 1 vector is recycle.</p>
<div class="sourceCode" id="cb105"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb105-1"><a href="Tibbles.html#cb105-1"></a><span class="kw">tibble</span>(<span class="dt">a =</span> <span class="dv">1</span>, <span class="dt">b =</span> <span class="dv">1</span><span class="op">:</span><span class="dv">3</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3 x 2
##       a     b
##   &lt;dbl&gt; &lt;int&gt;
## 1     1     1
## 2     1     2
## 3     1     3</code></pre>
<p>In the example below, the vector <code>c</code> of length 2 cannot be recycle and it will generate an error:</p>
<div class="sourceCode" id="cb107"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb107-1"><a href="Tibbles.html#cb107-1"></a><span class="co">#tibble(a = 1:3, c = 1:2)</span></span></code></pre></div>
</div>
<div id="tibble-never-adjusts-the-names-of-variables" class="section level4">
<h4><span class="header-section-number">10.1.0.2</span> Tibble never adjusts the names of variables:</h4>
<p>The example below changes the name <code>crazy name</code> to <code>crazy.name</code>, while the tibble does not change it.</p>
<div class="sourceCode" id="cb108"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb108-1"><a href="Tibbles.html#cb108-1"></a><span class="kw">names</span>(<span class="kw">data.frame</span>(<span class="st">`</span><span class="dt">crazy name</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] &quot;crazy.name&quot;</code></pre>
<div class="sourceCode" id="cb110"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb110-1"><a href="Tibbles.html#cb110-1"></a><span class="kw">names</span>(<span class="kw">tibble</span>(<span class="st">`</span><span class="dt">crazy name</span><span class="st">`</span> =<span class="st"> </span><span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] &quot;crazy name&quot;</code></pre>
</div>
</div>
<div id="exercises" class="section level2">
<h2><span class="header-section-number">10.2</span> 10.5 Exercises</h2>
<div id="question-1" class="section level4 unnumbered">
<h4>Question 1</h4>
<div class="question">
<p><strong>How can you tell if an object is a tibble? (Hint: try printing mtcars, which is a regular data frame)</strong></p>
<div class="sourceCode" id="cb112"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb112-1"><a href="Tibbles.html#cb112-1"></a><span class="co"># mtcars is orginally dataframe.</span></span>
<span id="cb112-2"><a href="Tibbles.html#cb112-2"></a><span class="kw">class</span>(mtcars)</span></code></pre></div>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<div class="sourceCode" id="cb114"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb114-1"><a href="Tibbles.html#cb114-1"></a><span class="co"># converting to tibble</span></span>
<span id="cb114-2"><a href="Tibbles.html#cb114-2"></a><span class="kw">class</span>(<span class="kw">as_tibble</span>(mtcars))</span></code></pre></div>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<p>So, given any dataframe, when you check its class, it will be either traditional R’s dataframe or tibble.</p>
<p>Traditional R’s dataframe output will <code>data.frame</code></p>
<p>Tibble output will be <code>tbl_df"     "tbl"        "data.frame</code></p>
</div>
</div>
<div id="question-2" class="section level4 unnumbered">
<h4>Question 2</h4>
<p>Compare and contrast the following operations on a data.frame and equivalent tibble. What is different? Why might the default data frame behaviours cause you frustration?</p>
<div class="sourceCode" id="cb116"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb116-1"><a href="Tibbles.html#cb116-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb116-2"><a href="Tibbles.html#cb116-2"></a>df<span class="op">$</span>x</span>
<span id="cb116-3"><a href="Tibbles.html#cb116-3"></a>df[, <span class="st">&quot;xyz&quot;</span>]</span>
<span id="cb116-4"><a href="Tibbles.html#cb116-4"></a>df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</span></code></pre></div>
<div class="question">
<p>Traditional R’s Dataframe</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="Tibbles.html#cb117-1"></a>df &lt;-<span class="st"> </span><span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>)</span>
<span id="cb117-2"><a href="Tibbles.html#cb117-2"></a>df<span class="op">$</span>x</span></code></pre></div>
<pre><code>## [1] a
## Levels: a</code></pre>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="Tibbles.html#cb119-1"></a>df[, <span class="st">&quot;xyz&quot;</span>]</span></code></pre></div>
<pre><code>## [1] a
## Levels: a</code></pre>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="Tibbles.html#cb121-1"></a>df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</span></code></pre></div>
<pre><code>##   abc xyz
## 1   1   a</code></pre>
<p>Tibble Dataframe</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="Tibbles.html#cb123-1"></a>df &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(<span class="kw">data.frame</span>(<span class="dt">abc =</span> <span class="dv">1</span>, <span class="dt">xyz =</span> <span class="st">&quot;a&quot;</span>))</span>
<span id="cb123-2"><a href="Tibbles.html#cb123-2"></a>df<span class="op">$</span>x</span></code></pre></div>
<pre><code>## Warning: Unknown or uninitialised column: `x`.</code></pre>
<pre><code>## NULL</code></pre>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="Tibbles.html#cb126-1"></a>df[, <span class="st">&quot;xyz&quot;</span>]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 1
##   xyz  
##   &lt;fct&gt;
## 1 a</code></pre>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="Tibbles.html#cb128-1"></a>df[, <span class="kw">c</span>(<span class="st">&quot;abc&quot;</span>, <span class="st">&quot;xyz&quot;</span>)]</span></code></pre></div>
<pre><code>## # A tibble: 1 x 2
##     abc xyz  
##   &lt;dbl&gt; &lt;fct&gt;
## 1     1 a</code></pre>
<p><code>What is different?</code> Using Tibble, it reports that <code>x</code> is an ukown variable, while R’ dataframe, return <code>a</code> as value for <code>x</code> variable.</p>
<p><code>Why might the default data frame behaviours cause you frustration?</code> Because it does partial marching. It marches <code>x</code> with <code>xyz</code></p>
</div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="workflowproject.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="DataImport.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4DS_BookClub.pdf", "R4DS_BookClub.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
